#include <dump.h>

/**
 * read any SFR register
 * @param addr SFR address, for example 0x80 for P0
 * if needed page 1 should be selected before calling sfr_read()
 */
uint8_t sfr_read(uint8_t addr)
{
	/* each case will move corresponding SFR to dl and return */
	switch(addr) {
		case 0x80:
			__asm__(".db #0x85\n.db #0x80\n.db #0x82\n.db #0x22"); /* 4 bytes same as __asm__("move dl, P0\nret\n") */
		case 0x81: __asm__(".db #0x85\n.db #0x81\n.db #0x82\n.db #0x22");
		case 0x82: __asm__(".db #0x85\n.db #0x82\n.db #0x82\n.db #0x22");
		case 0x83: __asm__(".db #0x85\n.db #0x83\n.db #0x82\n.db #0x22");
		case 0x84: __asm__(".db #0x85\n.db #0x84\n.db #0x82\n.db #0x22");
		case 0x85: __asm__(".db #0x85\n.db #0x85\n.db #0x82\n.db #0x22");
		case 0x86: __asm__(".db #0x85\n.db #0x86\n.db #0x82\n.db #0x22");
		case 0x87: __asm__(".db #0x85\n.db #0x87\n.db #0x82\n.db #0x22");
		case 0x88: __asm__(".db #0x85\n.db #0x88\n.db #0x82\n.db #0x22");
		case 0x89: __asm__(".db #0x85\n.db #0x89\n.db #0x82\n.db #0x22");
		case 0x8A: __asm__(".db #0x85\n.db #0x8A\n.db #0x82\n.db #0x22");
		case 0x8B: __asm__(".db #0x85\n.db #0x8B\n.db #0x82\n.db #0x22");
		case 0x8C: __asm__(".db #0x85\n.db #0x8C\n.db #0x82\n.db #0x22");
		case 0x8D: __asm__(".db #0x85\n.db #0x8D\n.db #0x82\n.db #0x22");
		case 0x8E: __asm__(".db #0x85\n.db #0x8E\n.db #0x82\n.db #0x22");
		case 0x8F: __asm__(".db #0x85\n.db #0x8F\n.db #0x82\n.db #0x22");

		case 0x90: __asm__(".db #0x85\n.db #0x90\n.db #0x82\n.db #0x22");
		case 0x91: __asm__(".db #0x85\n.db #0x91\n.db #0x82\n.db #0x22");
		case 0x92: __asm__(".db #0x85\n.db #0x92\n.db #0x82\n.db #0x22");
		case 0x93: __asm__(".db #0x85\n.db #0x93\n.db #0x82\n.db #0x22");
		case 0x94: __asm__(".db #0x85\n.db #0x94\n.db #0x82\n.db #0x22");
		case 0x95: __asm__(".db #0x85\n.db #0x95\n.db #0x82\n.db #0x22");
		case 0x96: __asm__(".db #0x85\n.db #0x96\n.db #0x82\n.db #0x22");
		case 0x97: __asm__(".db #0x85\n.db #0x97\n.db #0x82\n.db #0x22");
		case 0x98: __asm__(".db #0x85\n.db #0x98\n.db #0x82\n.db #0x22");
		case 0x99: __asm__(".db #0x85\n.db #0x99\n.db #0x82\n.db #0x22");
		case 0x9A: __asm__(".db #0x85\n.db #0x9A\n.db #0x82\n.db #0x22");
		case 0x9B: __asm__(".db #0x85\n.db #0x9B\n.db #0x82\n.db #0x22");
		case 0x9C: __asm__(".db #0x85\n.db #0x9C\n.db #0x82\n.db #0x22");
		case 0x9D: __asm__(".db #0x85\n.db #0x9D\n.db #0x82\n.db #0x22");
		case 0x9E: __asm__(".db #0x85\n.db #0x9E\n.db #0x82\n.db #0x22");
		case 0x9F: __asm__(".db #0x85\n.db #0x9F\n.db #0x82\n.db #0x22");

		case 0xA0: __asm__(".db #0x85\n.db #0xA0\n.db #0x82\n.db #0x22");
		case 0xA1: __asm__(".db #0x85\n.db #0xA1\n.db #0x82\n.db #0x22");
		case 0xA2: __asm__(".db #0x85\n.db #0xA2\n.db #0x82\n.db #0x22");
		case 0xA3: __asm__(".db #0x85\n.db #0xA3\n.db #0x82\n.db #0x22");
		case 0xA4: __asm__(".db #0x85\n.db #0xA4\n.db #0x82\n.db #0x22");
		case 0xA5: __asm__(".db #0x85\n.db #0xA5\n.db #0x82\n.db #0x22");
		case 0xA6: __asm__(".db #0x85\n.db #0xA6\n.db #0x82\n.db #0x22");
		case 0xA7: __asm__(".db #0x85\n.db #0xA7\n.db #0x82\n.db #0x22");
		case 0xA8: __asm__(".db #0x85\n.db #0xA8\n.db #0x82\n.db #0x22");
		case 0xA9: __asm__(".db #0x85\n.db #0xA9\n.db #0x82\n.db #0x22");
		case 0xAA: __asm__(".db #0x85\n.db #0xAA\n.db #0x82\n.db #0x22");
		case 0xAB: __asm__(".db #0x85\n.db #0xAB\n.db #0x82\n.db #0x22");
		case 0xAC: __asm__(".db #0x85\n.db #0xAC\n.db #0x82\n.db #0x22");
		case 0xAD: __asm__(".db #0x85\n.db #0xAD\n.db #0x82\n.db #0x22");
		case 0xAE: __asm__(".db #0x85\n.db #0xAE\n.db #0x82\n.db #0x22");
		case 0xAF: __asm__(".db #0x85\n.db #0xAF\n.db #0x82\n.db #0x22");

		case 0xB0: __asm__(".db #0x85\n.db #0xB0\n.db #0x82\n.db #0x22");
		case 0xB1: __asm__(".db #0x85\n.db #0xB1\n.db #0x82\n.db #0x22");
		case 0xB2: __asm__(".db #0x85\n.db #0xB2\n.db #0x82\n.db #0x22");
		case 0xB3: __asm__(".db #0x85\n.db #0xB3\n.db #0x82\n.db #0x22");
		case 0xB4: __asm__(".db #0x85\n.db #0xB4\n.db #0x82\n.db #0x22");
		case 0xB5: __asm__(".db #0x85\n.db #0xB5\n.db #0x82\n.db #0x22");
		case 0xB6: __asm__(".db #0x85\n.db #0xB6\n.db #0x82\n.db #0x22");
		case 0xB7: __asm__(".db #0x85\n.db #0xB7\n.db #0x82\n.db #0x22");
		case 0xB8: __asm__(".db #0x85\n.db #0xB8\n.db #0x82\n.db #0x22");
		case 0xB9: __asm__(".db #0x85\n.db #0xB9\n.db #0x82\n.db #0x22");
		case 0xBA: __asm__(".db #0x85\n.db #0xBA\n.db #0x82\n.db #0x22");
		case 0xBB: __asm__(".db #0x85\n.db #0xBB\n.db #0x82\n.db #0x22");
		case 0xBC: __asm__(".db #0x85\n.db #0xBC\n.db #0x82\n.db #0x22");
		case 0xBD: __asm__(".db #0x85\n.db #0xBD\n.db #0x82\n.db #0x22");
		case 0xBE: __asm__(".db #0x85\n.db #0xBE\n.db #0x82\n.db #0x22");
		case 0xBF: __asm__(".db #0x85\n.db #0xBF\n.db #0x82\n.db #0x22");

		case 0xC0: __asm__(".db #0x85\n.db #0xC0\n.db #0x82\n.db #0x22");
		case 0xC1: __asm__(".db #0x85\n.db #0xC1\n.db #0x82\n.db #0x22");
		case 0xC2: __asm__(".db #0x85\n.db #0xC2\n.db #0x82\n.db #0x22");
		case 0xC3: __asm__(".db #0x85\n.db #0xC3\n.db #0x82\n.db #0x22");
		case 0xC4: __asm__(".db #0x85\n.db #0xC4\n.db #0x82\n.db #0x22");
		case 0xC5: __asm__(".db #0x85\n.db #0xC5\n.db #0x82\n.db #0x22");
		case 0xC6: __asm__(".db #0x85\n.db #0xC6\n.db #0x82\n.db #0x22");
		case 0xC7: __asm__(".db #0x85\n.db #0xC7\n.db #0x82\n.db #0x22");
		case 0xC8: __asm__(".db #0x85\n.db #0xC8\n.db #0x82\n.db #0x22");
		case 0xC9: __asm__(".db #0x85\n.db #0xC9\n.db #0x82\n.db #0x22");
		case 0xCA: __asm__(".db #0x85\n.db #0xCA\n.db #0x82\n.db #0x22");
		case 0xCB: __asm__(".db #0x85\n.db #0xCB\n.db #0x82\n.db #0x22");
		case 0xCC: __asm__(".db #0x85\n.db #0xCC\n.db #0x82\n.db #0x22");
		case 0xCD: __asm__(".db #0x85\n.db #0xCD\n.db #0x82\n.db #0x22");
		case 0xCE: __asm__(".db #0x85\n.db #0xCE\n.db #0x82\n.db #0x22");
		case 0xCF: __asm__(".db #0x85\n.db #0xCF\n.db #0x82\n.db #0x22");

		case 0xD0: __asm__(".db #0x85\n.db #0xD0\n.db #0x82\n.db #0x22");
		case 0xD1: __asm__(".db #0x85\n.db #0xD1\n.db #0x82\n.db #0x22");
		case 0xD2: __asm__(".db #0x85\n.db #0xD2\n.db #0x82\n.db #0x22");
		case 0xD3: __asm__(".db #0x85\n.db #0xD3\n.db #0x82\n.db #0x22");
		case 0xD4: __asm__(".db #0x85\n.db #0xD4\n.db #0x82\n.db #0x22");
		case 0xD5: __asm__(".db #0x85\n.db #0xD5\n.db #0x82\n.db #0x22");
		case 0xD6: __asm__(".db #0x85\n.db #0xD6\n.db #0x82\n.db #0x22");
		case 0xD7: __asm__(".db #0x85\n.db #0xD7\n.db #0x82\n.db #0x22");
		case 0xD8: __asm__(".db #0x85\n.db #0xD8\n.db #0x82\n.db #0x22");
		case 0xD9: __asm__(".db #0x85\n.db #0xD9\n.db #0x82\n.db #0x22");
		case 0xDA: __asm__(".db #0x85\n.db #0xDA\n.db #0x82\n.db #0x22");
		case 0xDB: __asm__(".db #0x85\n.db #0xDB\n.db #0x82\n.db #0x22");
		case 0xDC: __asm__(".db #0x85\n.db #0xDC\n.db #0x82\n.db #0x22");
		case 0xDD: __asm__(".db #0x85\n.db #0xDD\n.db #0x82\n.db #0x22");
		case 0xDE: __asm__(".db #0x85\n.db #0xDE\n.db #0x82\n.db #0x22");
		case 0xDF: __asm__(".db #0x85\n.db #0xDF\n.db #0x82\n.db #0x22");

		case 0xE0: __asm__(".db #0x85\n.db #0xE0\n.db #0x82\n.db #0x22");
		case 0xE1: __asm__(".db #0x85\n.db #0xE1\n.db #0x82\n.db #0x22");
		case 0xE2: __asm__(".db #0x85\n.db #0xE2\n.db #0x82\n.db #0x22");
		case 0xE3: __asm__(".db #0x85\n.db #0xE3\n.db #0x82\n.db #0x22");
		case 0xE4: __asm__(".db #0x85\n.db #0xE4\n.db #0x82\n.db #0x22");
		case 0xE5: __asm__(".db #0x85\n.db #0xE5\n.db #0x82\n.db #0x22");
		case 0xE6: __asm__(".db #0x85\n.db #0xE6\n.db #0x82\n.db #0x22");
		case 0xE7: __asm__(".db #0x85\n.db #0xE7\n.db #0x82\n.db #0x22");
		case 0xE8: __asm__(".db #0x85\n.db #0xE8\n.db #0x82\n.db #0x22");
		case 0xE9: __asm__(".db #0x85\n.db #0xE9\n.db #0x82\n.db #0x22");
		case 0xEA: __asm__(".db #0x85\n.db #0xEA\n.db #0x82\n.db #0x22");
		case 0xEB: __asm__(".db #0x85\n.db #0xEB\n.db #0x82\n.db #0x22");
		case 0xEC: __asm__(".db #0x85\n.db #0xEC\n.db #0x82\n.db #0x22");
		case 0xED: __asm__(".db #0x85\n.db #0xED\n.db #0x82\n.db #0x22");
		case 0xEE: __asm__(".db #0x85\n.db #0xEE\n.db #0x82\n.db #0x22");
		case 0xEF: __asm__(".db #0x85\n.db #0xEF\n.db #0x82\n.db #0x22");

		case 0xF0: __asm__(".db #0x85\n.db #0xF0\n.db #0x82\n.db #0x22");
		case 0xF1: __asm__(".db #0x85\n.db #0xF1\n.db #0x82\n.db #0x22");
		case 0xF2: __asm__(".db #0x85\n.db #0xF2\n.db #0x82\n.db #0x22");
		case 0xF3: __asm__(".db #0x85\n.db #0xF3\n.db #0x82\n.db #0x22");
		case 0xF4: __asm__(".db #0x85\n.db #0xF4\n.db #0x82\n.db #0x22");
		case 0xF5: __asm__(".db #0x85\n.db #0xF5\n.db #0x82\n.db #0x22");
		case 0xF6: __asm__(".db #0x85\n.db #0xF6\n.db #0x82\n.db #0x22");
		case 0xF7: __asm__(".db #0x85\n.db #0xF7\n.db #0x82\n.db #0x22");
		case 0xF8: __asm__(".db #0x85\n.db #0xF8\n.db #0x82\n.db #0x22");
		case 0xF9: __asm__(".db #0x85\n.db #0xF9\n.db #0x82\n.db #0x22");
		case 0xFA: __asm__(".db #0x85\n.db #0xFA\n.db #0x82\n.db #0x22");
		case 0xFB: __asm__(".db #0x85\n.db #0xFB\n.db #0x82\n.db #0x22");
		case 0xFC: __asm__(".db #0x85\n.db #0xFC\n.db #0x82\n.db #0x22");
		case 0xFD: __asm__(".db #0x85\n.db #0xFD\n.db #0x82\n.db #0x22");
		case 0xFE: __asm__(".db #0x85\n.db #0xFE\n.db #0x82\n.db #0x22");
		case 0xFF: __asm__(".db #0x85\n.db #0xFF\n.db #0x82\n.db #0x22");
	}
	return 0;
}